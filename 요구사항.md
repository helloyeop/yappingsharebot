## 트위터 게시글 공유 대시보드 - 요구사항 정의서

### 📋 프로젝트 개요

**프로젝트명:** 트위터 게시글 공유 대시보드  
**버전:** 1.0  
**작성일:** 2025년 8월  
**기술 스택:** Python, FastAPI, Telegram Bot API

#### 목적
여러 프로젝트에 대한 개인의 트위터 게시글을 텔레그램 봇 명령어를 통해 선택적으로 등록하고, 그룹 구성원들이 웹 대시보드에서 편리하게 확인할 수 있는 시스템 구축

#### 배경
- 텔레그램 채팅방에서 트위터 링크 공유 시 메시지 스크롤로 인한 가시성 문제
- 중요한 트윗이 일반 대화에 묻히는 문제
- 프로젝트별 트윗 분류 및 검색의 어려움

---

### 🎯 기능 요구사항 (Functional Requirements)

#### 1. 텔레그램 봇 기능

**1.1 트윗 등록**
- 명령어: `/share [트위터 링크]`
- 선택적 파라미터: 태그, 코멘트 추가 가능
- 자동 수집 정보:
  - 텔레그램 사용자 정보 (username, user_id, display_name)
  - 등록 일시
  - 트위터 링크 유효성 검증

**1.2 트윗 관리**
- `/mytweets` - 본인이 공유한 트윗 목록 조회
- `/delete [ID]` - 본인이 등록한 트윗 삭제
- `/stats` - 공유 통계 확인

**1.3 알림 기능**
- 트윗 등록 성공/실패 메시지
- 일일 공유 한도 도달 시 알림

#### 2. 웹 대시보드 기능

**2.1 트윗 표시**
- 트윗 카드 형태로 표시
  - 작성자 (텔레그램 username)
  - 트윗 미리보기 (제목, 내용 일부, 이미지)
  - 등록 시간
  - 태그/프로젝트명
  - 원본 링크

**2.2 필터링 및 검색**
- 사용자별 필터
- 프로젝트/태그별 필터
- 날짜 범위 필터
- 키워드 검색

**2.3 정렬 옵션**
- 최신순/오래된순
- 사용자별 그룹핑
- 프로젝트별 그룹핑

#### 3. API 엔드포인트

```python
# FastAPI 라우트 구조
POST   /api/tweets           # 봇에서 트윗 등록
GET    /api/tweets           # 트윗 목록 조회
GET    /api/tweets/{id}      # 특정 트윗 조회
DELETE /api/tweets/{id}      # 트윗 삭제
GET    /api/users            # 사용자 목록
GET    /api/users/{id}/tweets # 특정 사용자 트윗
GET    /api/tags             # 태그 목록
GET    /api/stats            # 통계 정보
```

---

### 🔧 비기능 요구사항 (Non-Functional Requirements)

#### 1. 성능
- 웹페이지 로딩: 3초 이내
- 봇 응답 시간: 2초 이내
- 동시 사용자: 최소 100명 지원

#### 2. 보안
- 텔레그램 그룹 멤버만 사용 가능
- Rate Limiting: 사용자당 시간당 10개 트윗 제한
- SQL Injection 방지
- XSS 방지

#### 3. 사용성
- 모바일 반응형 웹 디자인
- 직관적인 UI/UX
- 다크모드 지원

---

### 🏗️ 시스템 아키텍처

```
┌─────────────────┐     ┌─────────────────┐
│  Telegram Bot   │────▶│   FastAPI       │
│  (Python)       │     │   Backend       │
└─────────────────┘     └────────┬────────┘
                                  │
                                  ▼
                        ┌─────────────────┐
                        │   PostgreSQL    │
                        │   Database      │
                        └─────────────────┘
                                  ▲
                                  │
┌─────────────────┐     ┌─────────────────┐
│  Web Dashboard  │────▶│   API Gateway   │
│  (HTML/JS)      │     │                 │
└─────────────────┘     └─────────────────┘
```

---

### 📊 데이터 모델

```python
# 주요 엔티티
class User:
    telegram_id: int          # Primary Key
    telegram_username: str
    display_name: str
    created_at: datetime
    is_active: bool

class Tweet:
    id: UUID                  # Primary Key
    user_id: int             # Foreign Key -> User
    tweet_url: str
    tweet_id: str            # 트위터 ID 추출
    content_preview: str     # 캐시된 내용
    image_url: str          # 미리보기 이미지
    tags: List[str]
    comment: str            # 사용자 코멘트
    created_at: datetime
    updated_at: datetime

class Tag:
    id: int                  # Primary Key
    name: str
    created_at: datetime
    tweet_count: int        # 집계 필드
```

---

### 🔄 사용자 시나리오

#### 시나리오 1: 트윗 공유
1. 사용자 A가 트위터에서 프로젝트 관련 트윗 작성
2. 텔레그램에서 `/share https://twitter.com/... #ProjectA` 입력
3. 봇이 "✅ 트윗이 등록되었습니다" 응답
4. 다른 멤버들이 웹 대시보드에서 실시간 확인

#### 시나리오 2: 트윗 검색
1. 사용자 B가 웹 대시보드 접속
2. "ProjectA" 태그 필터 적용
3. 최근 일주일 동안의 ProjectA 관련 트윗 확인
4. 특정 트윗 클릭하여 원본 확인

---